#include "OgreHeader.h"
#include "SplitStringBase.h"

SplitStringBase::SplitStringBase(void)
{
	Reset();
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
SplitStringBase::~SplitStringBase(void)
{
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
const SplitStringBase *SplitStringBase::GetChild()
{
	return m_pChild;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void SplitStringBase::Reset()
{
	m_pChild = NULL;
	/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/

	m_iLevelOneLineCount = 0;

	memset((void *) m_SplitChar, 0, sizeof(m_SplitChar));

	memset((void *) m_strSplitLevelOne, 0, sizeof(m_strSplitLevelOne));
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
void SplitStringBase::Init(char cSplit, SplitStringBase *pChild)
{
	Reset();
	m_SplitChar[0] = cSplit;
	m_pChild = pChild;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
int32 SplitStringBase::GetResultLineCount()
{
	return m_iLevelOneLineCount;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
const char *SplitStringBase::GetResultLine(int32 iLine)
{
	if(iLine >= m_iLevelOneLineCount)
	{
		return NULL;
	}

	return m_strSplitLevelOne[iLine];
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
bool SplitStringBase::DoSubSplit()
{
	if(m_pChild != nullptr)
	{
		for(int32 i = 0; i < m_iLevelOneLineCount; ++i)
		{
			m_pChild->DoSplit(m_strSplitLevelOne[i]);
		}
	}

	return true;
}
