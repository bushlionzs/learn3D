/*$T Common/EffectMgr.h GC 1.140 10/10/09 10:06:27 */


/*$6
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 */


/* EffectMgr.h 功能说明： */
#pragma once
#include "StructDB.h"

namespace	TAB
{
class	TABFile;
}
class	CEffectMgr
{
/*
 -----------------------------------------------------------------------------------------------------------------------
 -----------------------------------------------------------------------------------------------------------------------
 */
protected:
	static CEffectMgr	*s_pBuffImpactMgr;

/*
 -----------------------------------------------------------------------------------------------------------------------
 -----------------------------------------------------------------------------------------------------------------------
 */
public:

	/*
	 ===============================================================================================================
	 ===============================================================================================================
	 */
	static CEffectMgr *GetBuffEffectMgr(void)
	{
		return s_pBuffImpactMgr;
	}

/*
 -----------------------------------------------------------------------------------------------------------------------
 -----------------------------------------------------------------------------------------------------------------------
 */
public:
	CEffectMgr(void);
	~			CEffectMgr(void);

	BOOL			Init(const char *lpszPathName);
	BOOL			Init(const TAB::TABFile *pDataBase);
	void			Term(void);

	SBuffImpact		*GetBuffImpact(uint32 dwID);
	const SBuffImpact	*GetConstBuffImpact(uint32 dwID) const;

/*
 -----------------------------------------------------------------------------------------------------------------------
 -----------------------------------------------------------------------------------------------------------------------
 */
protected:
	TAB::TABFile * m_pDBCFileLoad;

	const TAB::TABFile * m_pDataBase;
};

/*
 =======================================================================================================================
 =======================================================================================================================
 */

inline CEffectMgr *GetBuffEffectMgr(void)
{
	return CEffectMgr::GetBuffEffectMgr();
}
